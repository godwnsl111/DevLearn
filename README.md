# devLearn
쌍용교육센터 파이널 프로젝트 

▪ 프로젝트 개요
프로젝트 명	DevLearn
개발기간	2022.6.01 ~ 2022.6.30	개발인원	6명
개발언어 및
프레임워크	Java, Servlet/JSP, HTML5/CSS3, Ajax, javascript, jQuery, JSON, XML,
Spring, mybatis 3, maven, GIT
DBMS	ORACLE 18C
개발 툴	STS, sqlDeveloper
프로젝트 소개	인터넷 강의 및 멘토링 서비스를 이용하는 플랫폼.
인터넷 강의와 멘토링에 대한 클라이언트의 결제를 진행한다.
또한,  강의 또는 멘토링 주제와 관련된 스터디 모집이 가능하다.

프로젝트 특징	- Spring MVC 패턴 및 SQL을 활용 뿐만 아니라 JavaScript, CSS의 수련으로 Full-Stack 개발자로서 역량 강화
- MVC 개발 방식의 숙련도 향상을 위한 프로젝트로 개발자로서 실무 역량 강화
- Spring의 DI(Dependency  Injection)패턴을 적용하여 불필요한 의존관계 줄임
- JSTL을 사용한 코드의 가독성 향상
- Tiles 3으로 반복적으로 사용되는 코드를 분리 후 한 곳에서 관리하여 높은 재사용성과 확장성 제공
- myBatis framework를 이용하여 별도의 XML 문서에 매핑된 프로시저와 SQL 구문을 연동하여 데이터베이스와 연동할 수 있도록 도와 DB개발에 집중할 수 있으며, JDBC 연동 코드나 트랜잭션 코드를 간소화 시킬 수 있어 소스코드의 유지보수를 용이하게 함
- AJAX의 비동기 방식을 사용하여 웹에서 데이터 조회 시 페이지 전체를
새로고침하지 않아 불필요한 데이터 요청을 최소화하고 많은 업무를
클라이언트에서 처리하도록 함
- 관리자 영역과 클라이언트의 영역을 분리 개발하여 개발의 효율성 및 유지 보수의 편의성을 제공
- jQuery(JavaScript Library)를 사용하여 HTML document traversing, 이벤트 처리, 애니메이션, Ajax를 단순화하여 빠른 웹 개발
- maven 을 이용한 의존성 관리
- HTML, CSS, BootStrap, jQuery, JavaScript 를 이용한 반응형 웹 구현

프로젝트 담당부분
(본인 구현 내용)	<설정 및 모델링(공동 작업>
 - spring mvc 환경설정 및 Mybatis 환경 설정
 - 데이터베이스 모델링
 - 사이트의 화면은 CSS 및 부트스트랩을 이용한 작업

<구현 내용>
로그인
- 인터셉터를 이용한 로그인 여부와 회원 등급에 따른 이동가능한 페이지와 
  이동불가능한 페이지 설정
- SMTPAuthenticator를 이용하여 메일로 인증번호 전송
- 로그인 시 비밀번호는 5회이상 실패하거나 1년 이상 접속 기록이 없다면  
  계정비활성화시키고 로그인 불가능
- 비밀번호 찾기는 가입한 이메일로 보내진 인증번호를 인증 후 새로운 비밀번호로 변경가능
- 회원가입시 아이디 중복확인과 이메일 인증, 비밀번호 조건체크 과정을 거쳐 회원가입 가능

지식 공유자 신청
 - 모달로 권한 신청 양식 작성
 - 작성된 내용중 계정과 이름은 세션과 비교해서 동일한 이름인지 확인
 - 신청하는 등급을 현재와 같은 등급으로는 선택할 수 없게 함
 - 전에 신청한 내역이 아직 처리중인 경우 신청이 처리되지 않게 함
 - 회원이 기존에 프로필을 작성하지 않은 경우 INSERT, 이미 작성된 프로필이 있는 경우 UPDATE 되게 함

멘토링
1. 멘토링 리스트
- 멘토링의 전체 리스트를 출력함.
- 멘토링의 주제 카테고리 및 검색 조건(인기 멘토, 신규 멘토)을 선택하여 리스트를 출력할 수 있도록 onChange를 사용하여 구현함.
- 멘토링 상세보기 클릭시 ajax을 이용하여 멘토링 상세 정보를 가져와 모달 형식으로 출력
- 멘토링 신청 스케줄 설정시 dateTimePicker을 사용하여 멘토가 가능한 날짜와 시간만 선택할 수 있도록 날짜 활성/비활성화
- 멘토링 결제시 iamport 결제 API를 사용하여 결제 진행
- 멘토링 결제와 신청을 트랜잭션 처리하여 데이터 무결성 보장
- 페이징 처리 구현


커뮤니티
1. 질문과답변
- 질문글 리스트는 질문과 답변형태이고 검색과 페이징처리 구현
- 전체/미해결/해결 카테고리로 네비게이션 탭 구현하였고 클릭 시 ajax로 해당 카테고리의 리스트를 가져옴
- 모달을 이용한 게시글 작성
- 게시글 수정은 글쓴이만 가능하고 게시글 삭제는 글쓴이와 관리자 가능
- 질문 해결됬었다면 해결상태로 변경가능하고 해결된 게시글에 더 이상 답글을 달 수 없음
- 부적절한 게시글이라 판단되면 게시글 신고가능하며 관리자가 판단하에 게시글 활성/비활성 여부 결정

2. 스터디
- 스터디글 리스트는 게시판형태이고 검색과 페이징처리 및 최신순/ 답변많은순 클릭시 ajax로 정렬된 결과를 json으로 반환받아 출력
- 전체/모집중/모집완료/지역별 카테고리로 네비게이션 탭으로 구현하였고 클릭시 ajax로 해당 카테고리 리스트를 출력하도록 작성
- 모달을 이용한 게시글 작성가능하고 모집인원과 스터디지역 선택 가능
- 스터디 장소 찾기는 현재 위치/서울/경기/인천 지역의 카페와 도서관 위치를 마커로 표시하고 마커 클릭시 장소에 대한 정보를 커스텀 오버레이로 표시


마이페이지 - 회원
1.대시보드
- 회원의 프로필 출력
- 최근 구매한 강의 리스트 출력
- 회원이 구매한 강의 개수, 완료한 수업 개수, 완료한 강의 개수 출력
- 완료한 강의 리스트 출력

2.일정관리
- fullCalendar api를 이용한 일정관리 작성
- 일정 등록을 원하는 날짜를 클릭하거나 드래그 시 해당 날짜에 제목, 색상, 반복여부, 반복주기 선택, 메모 등록 가능
- 등록한 일정을 달력에 출력. 반복일정은 주기마다 출력
- 일정 클릭 시 상세 정보 열람 가능
- 선택한 일정의 수정 및 삭제 기능 구현
- 선택한 일정 수정 시 등록했던 정보를 불러와 출력

3.내학습
- 회원이 구매한 강의 리스트 출력
- 최근 수강 신청한 강의 순, 제목 순으로 정렬 가능
- 강의명 또는 강사명으로 검색 가능

4.멘토링
- 회원이 신청한 멘토링 리스트 출력
- 신청한 멘토링은 전체, 승인대기, 예약확정, 이용완료, 취소/환불로 status별로 리스트 출력
- 신청한 멘토링의 status가 예약확정이고 상담날짜가 지나면 이용완료로 status 변경
- 이용완료 시 해당 멘토링에 대한 별점과 후기 작성 가능
- 작성한 후기가 있을 시 작성한 내용을 불러와 출력 후 수정

5.작성한 게시글
- 회원이 QNA와 스터디에 작성한 글 리스트 출력
- 모집한 스터디 리스트에서 글별로 스터디에 지원한 회원 리스트 확인 가능.
- 지원자 리스트에서 승인 시 모집된 인원 증가
- 모집 완료 버튼 클릭 시 해당 스터디 모집글의 상태는 모집 완료로 변경
- 지원한 스터디는 지원 취소 버튼 클릭 시 지원 취소

6.수강전 문의
- 회원이 수강전 문의에 작성한 글 리스트 출력
- 답변이 달린 경우 질문글에 답변도 함께 출력
- 답변이 달리지 않은 경우에만 삭제 가능
- 전체, 미답변, 답변완료 중 선택 시 필터링해서 리스트 출력
- 문의 내용과 강의 제목으로 검색 가능

7.수강바구니
- 구매자 정보(이름, 이메일) 출력
- 회원이 장바구니에 담은 강의 리스트(썸네일, 강의명, 강사명, 수강기간, 할인율, 강의 금액, 할인된 금액) 출력
- 체크한 강의가 달라짐에 따라 총 결제 금액과 총 할인 금액 변동
- 체크한 강의 장바구니에서 삭제 가능
- 체크한 강의 kakaopay로 결제 가능
- 결제된 강의는 장바구니에서 삭제

8.좋아요
- 회원이 좋아요 누른 강의 리스트(썸네일, 강의명, 강사명, 별점, 가격) 출력
- 전체, 유료강의, 무료강의 / 최신순, 제목순 중 선택 시 필터링하여 출력

9.구매내역
- 구매내역 리스트(주문번호, 주문날짜, 상태, 주문명, 금액) 리스트 출력
- 거래명세서 보기 버튼 클릭 시 주문번호 당 구매한 강의 리스트 출력

10.프로필 설정
- 프로필 등록 및 수정 가능
- 이전에 등록한 프로필 정보가 있는 경우 회원의 프로필 정보를 불러와 출력
- 프로필 이미지, 닉네임, 자기소개, 비지니스 메일, 휴대폰 등록 가능

마이페이지 - 멘토
- echart를 이용하여 멘토링 수익 및 평점 등을 한 눈에 볼 수 있도록 구현
1. 멘토링 관리
- session을 이용하여 등록된 멘토링을 체크, 등록된 멘토링이 없는 경우 작성한 데이터를 DB에 INSERT, 등록된 멘토링이 있는 경우 UPDATE를 하게끔 구현
- 멘토링 상세 정보 입력 창에 CKEditor 삽입 구현
2. 신청 관리
- 신청된 멘토링 내역을 리스트로 출력
- 승인대기, 예약 확정 등 상태값에 따라 출력
- ajax를 이용하여 선택한 멘토링의 상세 정보를 확인할 수 있도록 모달 형식으로 구현
3. 멘토링 일정
- fullCalendar를 사용하여 예약된 멘토링을 캘린더에 출력
- 사용하여 캘린더 내 일정 박스 선택시 선택 날짜에 예약된 멘토링 리스트를 modal 형식으로 출력(ajax 사용)
- 리스트 내 데이터 상세 정보 모달 형식 출력(ajax)
4. 수익 관리
- 1년 단위로 월별 수익 그래프(echart) 출력
- session에 저장된 로그인ID를 사용하여 DB내 수익 테이블에서 정보를 가져와 존재하는 수익데이터의 년도를 카테고리에 출력
- 년도별 결제된 데이터 리스트 출력
- 년도별 수익 통계 출력

마이페이지-강사

1. 강의등록 - 1
강의 제목, 강의 요약 , 가격, 할인율 등록
강의 메인카테고리 선택시 카테고리에 따른 서브카테고리가 나오도록 등록
강의 상세내용 ckeditor를 통해 등록
수강 기한- 수강과목에 따라 무제한이나 기간(일, 월) 설정을 통한 수강 가능한 기간을 설정
썸네일 - 내게 있는 이미지형식의 파일만 선택 가능, 선택한 파일의 이미지를
바로 볼수있도록 구현

2. 강의등록 - 2
영상을 등록할수있는 모달창 구현
 - 챕터, 강의명, 영상파일을 등록할수있으며 썸네일과 마찬가지로 영상을 미리보기란에서 확인가능하며 영상시간은 자동으로 계산되어 등록하도록 구현

 - 등록된 영상은 밑 리스트에 바로 출력되며 리스트에서 등록된 영상파일을 삭제 가능

3. 강의 소식 관리
이때까지 강사 본인이 올린 영상들을 리스트로 확인 및 삭제 가능

관리자
 - 세션이벤트를 이용하여 당일, 어제, 전체 접속자수를 확인할 수 있도록 구현
 - 1년간 매출액의 월간 현황, 이번 달의 전체매출액 중 각 카테고리별 매출의 비율을 그래프로 출력
 - 가입된 전체 회원의 리스트 출력
 - 아이디/이름/가입일 혹은 회원의 등급, 활성화 여부를 조건으로 회원 검색 가능
 - 회원이 등급 변경을 신청한 경우 신청내역을 모달로 출력 , 정보 확인과 동시에 등급 변경 가능
 - 회원이 등급 변경을 신청한 경우 신청내역을 모달로 출력 , 정보 확인과 동시에 등급 변경, 회원 등급 변경과 신청 상태 변경을 트랜잭션 처리하여 안정성 추구
 - 커뮤니티 글 중에 신고된 내역 리스트 출력 및 모달로 신고 내역 확인  
 - 공지사항 탭의 게시판들은 1:1문의를 제외하고 글 작성을 모두 관리자만 할 수 있기 때문에 관리자 화면에서 글 작성


강의
1. 강의 목록
- 강의 제목, 강사 닉네임, 평점, 가격을 표시하고, 추가로 업데이트나 할인 여부, 수강자 일정 수 돌파 등 표시
- 클릭하면 강의 상세 페이지로 이동

2. 강의 상세
- 강의 소개 / 커리큘럼 / 수강평 / 수강 전 문의 / 커뮤니티 / 새 소식 으로 구성
- 상단에서 수강평 개수, 수강생 수 확인
- 사이드바에서 할인율, 원가, 할인 적용 가격을 확인하고 수강신청 및 장바구니로 이동 가능하며, 총 수업시간, 구매 후 수강 가능 기간 표시
- 강의 소개, 커리큘럼, 수강평은 한 페이지에 모두 있으며 탭을 클릭하면 scrollspy를 이용해 해당 위치로 이동
- 수강 전 문의, 새 소식은 탭 클릭시 페이지 이동

- 수강 전 문의에서는 강의를 구매하지 않은 사람도 문의 등록이 가능하며, 답변은 해당 강의를 올린 강사만 가능
- AJAX를 통해 문의 및 답변 등록, 조회, 삭제를 처리하고 문의 개수 표시
- 최신순으로 정렬하며, 5개를 초과하면 하단의 ‘더보기’ 버튼을 통해 추가로 불러옴

- 새 소식은 강의를 올린 강사만이 작성 가능
- 강의 업데이트 등에 대한 소식, 강의에 대한 자료, 강의안을 글과 파일로 업로드 가능
- 수강생은 강사가 올린 자료를 다운로드 가능


